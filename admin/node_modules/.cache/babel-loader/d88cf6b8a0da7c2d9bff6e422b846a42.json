{"ast":null,"code":"import { loginFailed, loginStart, loginSuccess, logoutStart, registerFailed, registerStart, registerSuccess, logoutSuccess, logoutFailed } from \"./authSlice\";\nimport API from \"../api/apiConfig\";\nimport { deleteUserStart, deleteUserSuccess, deleteUserFailed, getUsersFailed, getUsersStart, getUsersSuccess } from \"./userSlice\";\nexport const loginUser = async (user, dispatch, navigate) => {\n  dispatch(loginStart());\n\n  try {\n    const res = await API.post('auth/login', user);\n    dispatch(loginSuccess(res.data));\n    navigate('/');\n  } catch (err) {\n    dispatch(loginFailed());\n  }\n};\nexport const registerUser = async (user, dispatch, navigate) => {\n  dispatch(registerStart());\n\n  try {\n    await API.post('auth', user);\n    dispatch(registerSuccess());\n    navigate('/login');\n  } catch (err) {\n    dispatch(registerFailed());\n  }\n};\nexport const getAllUsers = async (accessToken, dispatch) => {\n  dispatch(getUsersStart());\n\n  try {\n    const res = await API.get('api/user', {\n      headers: {\n        token: `Bearer ${accessToken}`\n      }\n    });\n    dispatch(getUsersSuccess(res.data));\n  } catch (err) {\n    dispatch(getUsersFailed());\n  }\n};\nexport const deleteUser = async (accessToken, dispatch, id) => {\n  dispatch(deleteUserStart());\n\n  try {\n    const res = await API.delete(\"/api/user/\" + id, {\n      headers: {\n        token: `Bearer ${accessToken}`\n      }\n    });\n    dispatch(deleteUserSuccess(res.data));\n  } catch (err) {\n    dispatch(deleteUserFailed(err.response.data));\n  }\n};\nexport const logOut = async (dispatch, navigate, accessToken, id) => {\n  dispatch(logoutStart());\n\n  try {\n    await API.post(\"auth/logout\", id, {\n      headers: {\n        token: `Bearer ${accessToken}`\n      }\n    });\n    dispatch(logoutSuccess());\n  } catch (err) {\n    dispatch(logoutFailed());\n  }\n};","map":{"version":3,"names":["loginFailed","loginStart","loginSuccess","logoutStart","registerFailed","registerStart","registerSuccess","logoutSuccess","logoutFailed","API","deleteUserStart","deleteUserSuccess","deleteUserFailed","getUsersFailed","getUsersStart","getUsersSuccess","loginUser","user","dispatch","navigate","res","post","data","err","registerUser","getAllUsers","accessToken","get","headers","token","deleteUser","id","delete","response","logOut"],"sources":["D:/Project-reactjs/Ecommerce-elementor/admin/src/redux/apiRequest.js"],"sourcesContent":["import { loginFailed, loginStart, loginSuccess, logoutStart, registerFailed, registerStart, registerSuccess ,logoutSuccess,\r\n    logoutFailed} from \"./authSlice\"\r\nimport API from \"../api/apiConfig\"\r\nimport { deleteUserStart, deleteUserSuccess,deleteUserFailed, getUsersFailed, getUsersStart, getUsersSuccess } from \"./userSlice\";\r\nexport const loginUser = async(user,dispatch,navigate) =>{\r\n    dispatch(loginStart());\r\n    try{\r\n        const res = await API.post('auth/login',user);\r\n        dispatch(loginSuccess(res.data));\r\n        navigate('/')\r\n    }catch (err){\r\n        dispatch(loginFailed())\r\n    }\r\n}\r\n\r\nexport const registerUser  = async(user,dispatch,navigate)=>{\r\n    dispatch(registerStart());\r\n    try{\r\n        await API.post('auth',user)\r\n        dispatch(registerSuccess());\r\n        navigate('/login')\r\n    }catch(err){\r\n        dispatch(registerFailed());\r\n    }\r\n}\r\n\r\nexport const getAllUsers = async (accessToken, dispatch)=>{\r\n    dispatch(getUsersStart());\r\n    try{\r\n        const res = await API.get('api/user',{\r\n            headers: {token:`Bearer ${accessToken}`}\r\n        });\r\n        \r\n        dispatch(getUsersSuccess(res.data))\r\n    \r\n     \r\n    }catch(err){\r\n        dispatch(getUsersFailed())\r\n    }\r\n}\r\n\r\nexport const deleteUser = async (accessToken,dispatch,id)=>{\r\n    dispatch(deleteUserStart());\r\n    try{\r\n        const res = await API.delete(\"/api/user/\"+id,{\r\n            headers:{\r\n                token: `Bearer ${accessToken}`\r\n            }\r\n        })\r\n        dispatch(deleteUserSuccess(res.data));\r\n        \r\n    }\r\n    catch(err){\r\n        dispatch(deleteUserFailed(err.response.data))\r\n       \r\n    }\r\n}\r\n\r\nexport const logOut = async (dispatch,navigate,accessToken,id)=>{\r\n    dispatch(logoutStart());\r\n    try{\r\n        await API.post(\"auth/logout\",id,{\r\n            headers:{token:`Bearer ${accessToken}`}\r\n        });\r\n        dispatch(logoutSuccess())\r\n    }catch(err){\r\n        dispatch(logoutFailed())\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}